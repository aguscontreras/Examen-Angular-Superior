<main class="row">
  <section class="col-lg-5">
    <div class="d-none d-lg-flex justify-content-center pt-5">
      <img
        src="assets/img/sign_up.svg"
        alt="Ilustración: login"
        class="frontpage-illustration"
      />
    </div>
  </section>
  <section class="col-lg-4 offset-lg-1 pt-5 pt-lg-5">
    <h1 class="mat-display-3">Registrarme</h1>
    <h3>Por favor, completá el siguente formulario para registrarte.</h3>

    <mat-stepper linear>
      <mat-step [stepControl]="profileForm" errorMessage="Incompleto.">
        <form [formGroup]="profileForm">
          <ng-template matStepLabel>Perfil</ng-template>

          <mat-form-field class="field-full-width" appearance="outline">
            <mat-label>Usuario</mat-label>
            <input matInput type="text" formControlName="username" />
            <mat-hint>
              Debe contener al menos una Mayúscula y un Número
            </mat-hint>
            <mat-error *ngIf="profileForm.controls['username'].invalid">
              {{ getErrorMessage(profileForm.controls["username"]) }}
            </mat-error>
          </mat-form-field>

          <mat-form-field class="field-full-width" appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" />
            <mat-error *ngIf="profileForm.controls['email'].invalid">
              {{ getErrorMessage(profileForm.controls["email"]) }}
            </mat-error>
          </mat-form-field>

          <mat-form-field class="field-full-width" appearance="outline">
            <mat-label>Contraseña</mat-label>
            <input #pwrd matInput type="password" formControlName="password" />
            <mat-hint>
              Debe contener al menos una Mayúscula y un Número
            </mat-hint>
            <mat-error *ngIf="profileForm.controls['password'].invalid">
              {{ getErrorMessage(profileForm.controls["password"]) }}
            </mat-error>
            <button
              matSuffix
              mat-icon-button
              type="button"
              (click)="
                pwrd.type = pwrd.type === 'password' ? 'text' : 'password'
              "
            >
              <mat-icon>visibility</mat-icon>
            </button>
          </mat-form-field>

          <div>
            <button
              mat-flat-button
              matStepperNext
              type="button"
              color="primary"
              class="mt-4"
            >
              Continuar
            </button>
          </div>
        </form>
      </mat-step>

      <mat-step [stepControl]="userDataForm" errorMessage="Incompleto.">
        <form [formGroup]="userDataForm" (ngSubmit)="onSubmit()">
          <ng-template matStepLabel>Información personal</ng-template>

          <mat-form-field class="field-full-width" appearance="outline">
            <mat-label>Nombre</mat-label>
            <input matInput type="text" formControlName="firstname" />
            <mat-error *ngIf="userDataForm.controls['firstname'].invalid">
              {{ getErrorMessage(userDataForm.controls["firstname"]) }}
            </mat-error>
          </mat-form-field>

          <mat-form-field class="field-full-width" appearance="outline">
            <mat-label>Apellido</mat-label>
            <input matInput type="text" formControlName="lastname" />
            <mat-error *ngIf="userDataForm.controls['lastname'].invalid">
              {{ getErrorMessage(userDataForm.controls["lastname"]) }}
            </mat-error>
          </mat-form-field>

          <mat-form-field class="field-full-width" appearance="outline">
            <mat-label>Edad</mat-label>
            <input matInput type="number" formControlName="age" />
            <mat-error *ngIf="userDataForm.controls['age'].invalid">
              {{ getErrorMessage(userDataForm.controls["age"]) }}
            </mat-error>
          </mat-form-field>

          <div>
            <button mat-flat-button type="submit" color="primary" class="mt-4">
              Crear cuenta
            </button>
          </div>
        </form>
      </mat-step>
    </mat-stepper>

    <p class="mt-3">
      Ya estás registrado/a?
      <a [routerLink]="['/auth/login']">Iniciá sesión</a>
    </p>
  </section>
</main>
